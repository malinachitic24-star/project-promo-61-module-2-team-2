const w=document.querySelector(".menu__button-design"),h=document.querySelector(".menu__button-form"),S=document.querySelector(".menu__dropdown-design"),q=document.querySelector(".menu__dropdown-form");w.addEventListener("click",()=>{S.classList.toggle("open")});h.addEventListener("click",()=>{q.classList.toggle("open")});const a=document.querySelector(".companyname"),d=document.querySelector(".card-preview__title.js-name"),c=document.querySelector(".work-company"),p=document.querySelector(".card-preview__subtitle.ja-business-sector"),l=document.querySelector(".phone-company"),v=document.querySelector(".js-phone"),s=document.querySelector(".email-company"),f=document.querySelector(".js-email"),i=document.querySelector(".web-company"),g=document.querySelector(".js-web"),k=document.querySelector(".complete"),e={name:"",work:"",phone:"",email:"",rrss:"",palette:"",photo:""};function r(){localStorage.setItem("cardData",JSON.stringify(e))}function b(){const t=JSON.parse(localStorage.getItem("cardData")||{});e.name=t.name||"",e.work=t.work||"",e.phone=t.phone||"",e.email=t.email||"",e.rrss=t.rrss||"",e.palette=t.palette||"",e.photo=t.photo||"",a.value=e.name,c.value=e.work,l.value=e.phone,s.value=e.email,i.value=e.rrss,d.textContent=e.name||"Nimalog",p.textContent=e.work||"Marketing",v.textContent=e.phone||"911-234-567",f.textContent=e.email||"nimalog@gmail.com",g.textContent=e.rrss||"www.nimalog.com";const o=document.querySelector(".js__profile-image"),n=document.querySelector(".js__profile-preview");if(e.photo&&(o.style.backgroundImage=`url(${e.photo})`,n.style.backgroundImage=`url(${e.photo})`),e.palette){y(e.palette);const u=document.querySelector(`.js-palette[value="${e.palette}"]`);u&&(u.checked=!0)}}a.addEventListener("input",function(){d.textContent=a.value||"Nimalog",e.name=a.value,r()});c.addEventListener("input",function(){p.textContent=c.value||"Marketing",e.work=c.value,r()});l.addEventListener("input",function(){v.textContent=l.value||"911-234-567",e.phone=l.value,r()});s.addEventListener("input",function(){f.textContent=s.value||"nimalog@gmail.com",e.email=s.value,r()});i.addEventListener("input",function(){g.textContent=i.value||"www.nimalog.com",e.rrss=i.value,r()});const m=document.querySelector(".card-preview"),_=document.querySelectorAll(".js-palette"),E=["card-preview--classic","card-preview--classic-reverse","card-preview--business","card-preview--retro","card-preview--delicate","card-preview--cute"];function y(t){m.classList.remove(...E),m.classList.add(`card-preview--${t}`),e.palette=t,r()}_.forEach(t=>{t.addEventListener("change",o=>{const n=o.target.value;y(n)})});const L=document.querySelector(".button-reset");L.addEventListener("click",()=>{localStorage.removeItem("cardData"),location.reload()});k.addEventListener("submit",function(t){t.preventDefault(),console.log("submit ok"),fetch("https://dev.adalab.es/api/info/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({field1:Number(e.phone),field2:e.name,field3:e.work,field4:e.email,field5:e.rrss,field6:e.palette,photo:e.photo})}).then(function(o){return o.json()}).then(function(o){if(o.success){const n=o.infoID;console.log("Data success:",n),window.location.href=`card.html?id=${n}`}else console.log("Error en la creaci√≥n de la tarjeta:",o.error)}).catch(function(o){console.log("Error al enviar los datos:",o)})});b();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOltdLCJzb3VyY2VzQ29udGVudCI6W10sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIifQ==
